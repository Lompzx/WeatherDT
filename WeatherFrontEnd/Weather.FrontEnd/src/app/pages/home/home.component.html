
<div class="min-h-[calc(100vh-3rem)] pt-16 bg-sky-100 flex flex-col items-center justify-center p-5 gap-6">
  <div class="w-full max-w-md bg-white rounded-2xl shadow-lg p-4 space-y-6">
    
    <h1 class="text-2xl font-bold text-center text-sky-700">
      Daily Weather
    </h1>

   <div class="flex flex-col sm:flex-row items-center gap-3">

  <input
    type="text"
    [(ngModel)]="city"
    placeholder="Enter a city name"
    class="flex-1 rounded-lg border border-gray-300 px-4 py-2 focus:outline-none focus:ring-2 focus:ring-sky-500"
  />

  <button
    (click)="search()"
    class="bg-sky-600 text-white px-5 py-2 rounded-lg hover:bg-sky-700 transition"
    type="button"
  >
    Search
  </button>

  <button
    (click)="favorite()"
    [disabled]="!canFavorite"
    class="px-5 py-2 rounded-lg transition
           text-white
           disabled:bg-sky-300 disabled:cursor-not-allowed
           bg-sky-600 hover:bg-sky-700"
    type="button"
  >
    Favorite
  </button>

</div>


@if (loading) {
  <p class="text-center text-gray-500">Loading...</p>
}

@if (weatherError) {
  <p class="text-center text-red-500">{{ weatherError.message }}</p>
}

@if (favoriteCityError) {
  <p class="text-center text-red-500">{{ favoriteCityError!.message }}</p>
}


@if (dailyWeather) {
  <div class="bg-sky-50 rounded-xl p-4 space-y-4">
     <h2 class="text-lg font-semibold text-center">
    {{ dailyWeather.city }}
  </h2>

  <div class="flex items-center justify-center gap-4">
    <img alt="" [src]="dailyWeather.icon" class="w-16 h-16" />
    <span class="text-4xl font-bold">
      {{ dailyWeather.temperature }}°C
    </span>
  </div>

  <p class="text-center">
    {{ dailyWeather.condition }}
  </p>

  <div class="grid grid-cols-3 text-center text-sm">
    <div>
      <p class="font-semibold">Max</p>
      <p>{{ dailyWeather.maxTemperature }}°C</p>
    </div>
    <div>
      <p class="font-semibold">Min</p>
      <p>{{ dailyWeather.minTemperature }}°C</p>
    </div>
    <div>
      <p class="font-semibold">Humidity</p>
      <p>{{ dailyWeather.humidity }}%</p>
    </div>
  </div>
  </div>  
}
</div>

@if (forecastWeather) {
  <div class="w-full max-w-md md:max-w-3xl lg:max-w-4xl
            bg-white rounded-2xl shadow-lg p-6 space-y-6">
     @if (forecastWeather && forecastWeather.days.length > 0) {
  <div class="bg-sky-50 rounded-xl p-4 space-y-4">

    <h3 class="text-md font-semibold text-center text-sky-700">
      5 - Day Forecast Weather
    </h3>

    <div class="flex gap-3 overflow-x-auto pb-2">

      @for (day of forecastWeather.days; track day.date) {
        <div
          class="min-w-[110px] bg-white rounded-xl shadow-sm p-3
                 flex flex-col items-center text-center space-y-2">
         
          <p class="text-sm font-semibold text-gray-700">
             {{ day.date | date:'EEE, dd/MM' }}
          </p>          
          <img
            [src]="day.icon"
            alt=""
            class="w-10 h-10"
          />
         
          <div class="text-sm">
            <p class="font-bold">
              {{ day.maxTemp }}°C
            </p>
            <p class="text-gray-500">
              {{ day.minTemp }}°C
            </p>
          </div>
          <p class="text-sm font-semibold text-gray-700">
             {{ day.condition }}
          </p>
        </div>
      }

    </div>
  </div>
}
   </div>
}
</div>
